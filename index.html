<div id="GENIALLY_AUDIO_PLAYER"></div>

<style>
#GENIALLY_AUDIO_PLAYER {
  --accent: #00ff88;
  width:260px;
  font-family:Arial, sans-serif;
}

.g-player{
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(12px);
  border-radius:24px;
  padding:16px;
  text-align:center;
  color:white;
}

.g-player img{
  width:160px;
  height:160px;
  border-radius:20px;
  object-fit:cover;
}

.g-controls{
  display:flex;
  justify-content:center;
  gap:14px;
  margin-top:12px;
}

.g-controls button{
  width:42px;
  height:42px;
  border-radius:50%;
  border:none;
  background:var(--accent);
  cursor:pointer;
}

.g-progress{width:100%;}
.g-time{
  display:flex;
  justify-content:space-between;
  font-size:12px;
  opacity:.6;
}
</style>

<script>
(function(){
  const tracks = [
    "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",
    "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"
  ];

  let index = 0;
  const root = document.getElementById("GENIALLY_AUDIO_PLAYER");

  root.innerHTML = `
    <div class="g-player">
      <img src="https://picsum.photos/300" id="cover">
      <div id="title">Track 1</div>

      <input type="range" class="g-progress" id="seek" value="0">

      <div class="g-time">
        <span id="cur">0:00</span>
        <span id="dur">0:00</span>
      </div>

      <div class="g-controls">
        <button id="prev">◀</button>
        <button id="play">▶</button>
        <button id="next">▶▶</button>
      </div>

      <audio id="audio"></audio>
    </div>
  `;

  const audio = root.querySelector("#audio");
  const play = root.querySelector("#play");
  const seek = root.querySelector("#seek");

  function load(i){
    index = i;
    audio.src = tracks[i];
    root.querySelector("#title").textContent = "Track " + (i+1);
  }

  load(0);

  play.onclick = () => audio.paused ? audio.play() : audio.pause();
  audio.onplay = () => play.textContent = "❚❚";
  audio.onpause = () => play.textContent = "▶";

  audio.ontimeupdate = () => {
    seek.value = audio.currentTime / audio.duration * 100 || 0;
    root.querySelector("#cur").textContent =
      Math.floor(audio.currentTime/60)+":"+("0"+Math.floor(audio.currentTime%60)).slice(-2);
    root.querySelector("#dur").textContent =
      Math.floor(audio.duration/60)+":"+("0"+Math.floor(audio.duration%60)).slice(-2);
  };

  seek.oninput = () =>
    audio.currentTime = audio.duration * seek.value / 100;

  root.querySelector("#prev").onclick =
    () => load((index-1+tracks.length)%tracks.length);

  root.querySelector("#next").onclick =
    () => load((index+1)%tracks.length);

})();
</script>
